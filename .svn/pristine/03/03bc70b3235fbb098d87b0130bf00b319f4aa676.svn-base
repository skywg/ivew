<style scoped>
    .layout {
        background: #fff;
    }
    /* header样式开始*/

    header {
        height: 81px;
        background: #FFFFFF;
        border-bottom: 1px solid #e7e7e7;
    }

    .container {
        width: 1196px;
        margin: 0 auto;
    }

    .header-top {
        height: 81px;
    }

/*    .ivu-menu-horizontal {
        height: 81px;
        line-height: 74px;
    }*/
/*
    .region {
        float: left;
        margin-left: 14px;
        width: 80px;
        margin-top: 26px;
        height: 36px;
    }*/
    .nav-r {
        float: right;
        margin-top: 26px;
    }

    .btn1 {
        height: 36px;
        margin-left: 12px;
    }

    .ivu-menu-horizontal .ivu-menu-item,
    .ivu-menu-horizontal .ivu-menu-submenu {
        float: left;
        padding: 0 18px;
        position: relative;
        cursor: pointer;
        z-index: 3;
        transition: all .2s ease-in-out;
        border-top: 6px solid #fff;
    }

    .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item-active,
    .ivu-menu-light.ivu-menu-horizontal .ivu-menu-item:hover,
    .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu-active,
    .ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu:hover {
        color: #51ad79;
        border-bottom: none;
        /*border-top: 6px solid #51ad79;*/
        font-size: 16px;
    }

    .ivu-menu-item {
        display: block;
        outline: 0;
        list-style: none;
        font-size: 16px;
        position: relative;
        z-index: 1;
        cursor: pointer;
        transition: all .2s ease-in-out;
    }

    .ivu-menu {
        list-style: none;
        color: #657180;
        font-size: 16px;
    }

    .ivu-select-selection:hover {
        border-color: #51ad79;
    }

    .ivu-btn-primary {
        color: #fff;
        background-color: #51ad79;
        border-color: #51ad79;
    }

    .ivu-btn-ghost:hover {
        color: #51ad79;
        background-color: transparent;
        border-color: #51ad79;
    }

    .ivu-btn-primary:hover {
        color: #fff;
        background-color: #51ad79;
        border-color: #51ad79;
        opacity: 0.8;
    }

    .banner {
        background: url("../../img/index-banner.png") center top no-repeat;
        height: 512px;
        background-size: cover;
    }

    .banner-main {
        width: 802px;
        padding: 24px;
        background: #272727;
        border-radius: 4px;
        opacity: 0.7;
        margin-top: 80px;
        margin: auto;
    }

    .banner-logo {
        width: 109px;
        margin: 20px auto;
    }

    .ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab {
        margin: 0;
        margin-right: 14px;
        height: 31px;
        padding: 5px 16px 4px;
        border: 1px solid #d7dde4;
        border-bottom: 0;
        border-radius: 4px 4px 0 0;
        transition: all .3s ease-in-out;
        background: #f5f7f9;
    }

    .ivu-input {
        display: inline-block;
        width: 100%;
        height: 41px;
        line-height: 1.5;
        padding: 4px 7px;
        font-size: 12px;
        border: 1px solid #d7dde4;
        border-radius: 4px;
        color: #657180;
        background-color: #fff;
        background-image: none;
        position: relative;
        cursor: text;
        transition: border .2s ease-in-out, background .2s ease-in-out, box-shadow .2s ease-in-out;
    }

    .ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab-active {
        height: 32px;
        padding-bottom: 5px;
        background: #fd1212;
        transform: translateZ(0);
        border-color: #d7dde4;
        color: #39f;
    }
    /*header样式结束*/

    .ivu-tabs-nav .ivu-tabs-tab-active {
        color: #fff;
    }

    .search {
        margin: 20px 0;
        border-radius: 0 4px 4px 0;
        width: 94px;
        margin-left: -4px;
    }

    .footer {
        height: 163px;
        border-top: 5px solid #51ad79;
        background: #333333;
        margin-top: 140px;
        padding-top: 22px;
    }

    .footer-l {
        float: left;
    }

    .footer-r {
        float: right;
        color: #fff;
    }

    .footer-l ul li {
        color: #fff;
        float: left;
        padding: 0 16px;
        border-right: 1px solid #474747;
    }

    .footer-r ul li {
        color: #fff;
        float: left;
        padding: 0 16px;
        border-left: 1px solid #474747;
    }

    .footer-l div {
        color: #b4b4b4;
        padding-left: 16px;
    }

    .cardList {
        width: 1000px;
        margin: 10px auto;
        box-shadow: 2px 2px 5px #efefef, -2px -2px 5px #efefef;
    }

    .ivu-card-head {
        border-bottom: none;
    }

    .ivu-card-head h3 {
        text-align: center;
        font-size: 22px;
        font-family: normal;
        color: #000;
    }

    .cardList-content h3 {
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #efefef;
    }

    .cardList-content h3 span {
        padding-left: 10px;
        border-left: 4px solid #51ad79;
    }

    .forgetPassWord {
        float: right;
    }

    .loginList {
        text-align: center;
    }

    .loginList li {
        display: inline-block;
        margin: 0 15px;
    }

    .loginTab .ivu-tabs-bar {
        border-bottom: 1px solid #000;
    }
</style>
<style lang="scss">
    .nav-center .ivu-select-dropdown{
        margin: 0;
    }
    .main-nav{
        .router-link-active{
            color:#51ad79;
        }
        ul{
            height:auto;
        }
        ul.ivu-menu.ivu-menu-horizontal,
        .ivu-menu-horizontal{
            height:auto;
            li{
                line-height: 30px;
                height: auto;
                a{
                    line-height:30px;
                    margin-right:8px;
                }
                .ivu-icon{
                    vertical-align: middle;
                }
            }
        }
    }
</style>
<template>
    <div class="layout">
        <!--header开始-->
      	<header>
			<div class="container">
				<Row>
					<Col span="3" class="region ">
					   <img src="../../img/huiyuan-logo.png" alt="">
					</Col>
					<Col span="13" class="nav-center">
    					<Menu mode="horizontal" :theme="theme1"  @on-select="routeTo" >

    						<Menu-item name="/">
                                <Icon type="monitor"></Icon>
    							无忧导航
    						</Menu-item>
    						<Menu-item name="/mall/index">
                                <Icon type="ios-home"></Icon>
    							无忧首页
    						</Menu-item>
    						<Menu-item name="/">
                                <Icon type="ipad"></Icon>
    							掌上无忧
    						</Menu-item>
    						<Menu-item name="/">
                                <Icon type="map"></Icon>
    							地图导航
    						</Menu-item>
    						<Submenu name="3">
    							<template slot="title">
    								机构注册
    							</template>
    							<Menu-item name="/corpInfo/corpRegister">企业注册</Menu-item>
    							<Menu-item name="/corpInfo/govRegister">机关注册</Menu-item>
    						</Submenu>
    					</Menu>
					</Col>
					<Col span="4">
                    <div class="header-serch">
                        <Input v-model="search" style="margin-top: 19px; width: 108px;">
                        <Button slot="append" icon="ios-search"  @click="find"></Button>
                        </Input>
                    </div>
					</Input>
					</Col>
					<Col span="3" style="float: right;height:81px;"  v-if="loginuserinfo != null">
					<p href="#" style=";float: right;line-height: 81px;font-size: 14px;">
						<Dropdown>
                            <a href="javascript:void(0)" style="color: #51ad79">
                                {{loginuserinfo.displayName}}
                                <Icon type="arrow-down-b"></Icon>
                            </a>
                            <Dropdown-menu slot="list" trigger="click">
                                <Dropdown-item>账户安全</Dropdown-item>
                                <Dropdown-item>收货地址</Dropdown-item>
                                <Dropdown-item>消费记录</Dropdown-item>
                                <Dropdown-item> <a href="javascript:void(0)"  @click="logout">退出</a></Dropdown-item>
                            </Dropdown-menu>
                        </Dropdown>
					</p>
					<Badge count="3" style="margin-top: 30px;float: right;margin-right: 20px">
						<a href="#" class="demo-badge">
							<Icon type="ios-bell" size="22" style="color: #51ad79"></Icon>
						</a>
					</Badge>
					</Col>
				</Row>
			</div>
		</header>
        <!--header结束-->
        <div class="main" >
            <div class="container">
                <div class="main-nav clear" >
                    <Menu mode="horizontal" active-name="1" style="z-index: 1">
                        <MenuItem name="1"><router-link to="/pro/inforMationList">资讯</router-link></MenuItem>
                        <MenuItem name="2"><router-link to="/pro/policyList">政策</router-link></MenuItem>
                        <MenuItem name="3"><router-link to="/pro/knowledgeList">知识</router-link></MenuItem>
                        <MenuItem name="4"><router-link to="/pro/productList">产品</router-link></MenuItem>
                        <MenuItem name="5"><router-link to="5">服务</router-link></MenuItem>
                        <MenuItem name="6"><router-link to="/pro/enterpriseList">企业</router-link></MenuItem>
                        <MenuItem name="7"><router-link to="/pro/departmentList">机关</router-link></MenuItem>
                        <MenuItem name="8"><router-link to="/pro/expertList">专家</router-link></MenuItem>
                        <!-- <Submenu name="资讯">
                            <template slot="title">
                                <a href="javascript:void(0)" @click="goInforMation(1)"> 资讯</a>
                            </template>
                            <Menu-item name="1">商务资讯</Menu-item>
                            <Menu-item name="2">所有范围</Menu-item>
                            <Menu-item name="3">行业性质</Menu-item>
                            <Menu-item name="4">所有行业</Menu-item>
                        </Submenu> -->
                        <!-- <Submenu name="政策" style="padding:0 13px;">
                            <template slot="title">
                                <a href="javascript:void(0)" @click="goInforMation(2)"> 政策</a>

                             </template>
                            <Menu-item name="1">党政资讯</Menu-item>
                            <Menu-item name="2">所有范围</Menu-item>
                            <Menu-item name="3">政务性质</Menu-item>
                            <Menu-item name="4">所有分类</Menu-item>
                        </Submenu>
                        <Submenu name="知识" style="padding:0 13px;">
                            <template slot="title">
                                <a href="javascript:void(0)" @click="goInforMation(3)"> 知识</a>

                             </template>
                            <Menu-item name="1">实用知识</Menu-item>
                            <Menu-item name="2">所有范围</Menu-item>
                            <Menu-item name="3">所有学科</Menu-item>
                            <Menu-item name="4">所有分类</Menu-item>
                        </Submenu> -->
                       <!-- <Menu-item name="/pro/inforMationList">
                            资讯
                        </Menu-item>
                        <Menu-item name="/pro/policyList">
                            政策
                        </Menu-item>
                        <Menu-item name="/pro/knowledgeList">
                            知识
                        </Menu-item>-->
                        <!-- <Menu-item name="/pro/productList">
                            <a>产品</a>
                        </Menu-item>
                        <Menu-item name="5">
                            <a>服务</a>
                        </Menu-item>
                        <Menu-item name="/pro/enterpriseList">
                            <a>企业</a>
                        </Menu-item>
						<Menu-item name="/pro/departmentList">
							<a>机关</a>
                       </Menu-item>
						<Menu-item name="/pro/expertList">
							<a>专家</a>
                        </Menu-item> -->
                    </Menu>
                </div>
            </div>
            <router-view :data='list'></router-view>
        </div>
        <div class="footer">
            <div class="container">
                <div class="footer-l">
                    <ul>
                        <li>关于NSS1</li>
                        <li>公益性质</li>
                        <li>服务项目</li>
                        <li>以往案例</li>
                        <li>新闻动态</li>
                        <li>联系我们</li>
                    </ul>
                    <br/>
                    <br/>
                    <div>Copyright©2015trecare.com All Rights Reserved 版权所有TREcare
						<br/>备案号：蜀ICP备88888888号-1</div>
                </div>
                <div class="footer-r">
                    <ul>
                        <li>微博</li>
                        <li>微信</li>
                        <li>Support:DGG Group</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import axios from 'axios'
    export default {
        name: 'app',
        data() {
            return {
                loginuserinfo: JSON.parse(sessionStorage.getItem("user")),
                theme1 : 'light',
                currentPage: 1,
                pageSize: 10,
                total: 0,
                value13 : '',
                select3:'',
                value :'',
                list: [],
                portal :''
            }
        },
        created: function() {
           /* this.fetchData()*/
        },
        methods: {
            fetchData: function () {
                this.list = []
                var path = this.$route.path
                this.url=''
                if(path=='/pro/inforMationList'){
                    this.url='http://localhost:1111/inforMation/findInforMation/' + this.currentPage  + "?pageSize=" + this.pageSize
                }else if(path=='/pro/policyList'){
                    this.url='http://localhost:1111/policy/findPolicy/' + this.currentPage + "?pageSize=" + this.pageSize
                }else if(path=='/pro/knowledgeList'){
                    this.url='http://localhost:1111/knowLege/findKnowLedge/' + this.currentPage + "?pageSize=" + this.pageSize
                }else if(path=='/pro/inforMationList'){
                    this.url='http://localhost:1111/knowLege/findKnowLedge/' + this.currentPage + "?pageSize=" + this.pageSize
                }else if(path=='/pro/enterpriseList'){
                    this.url='http://localhost:1111/corpInfo/findPage/' + this.currentPage + "?pageSize=" + this.pageSize
                }else if(path=='/pro/departmentList'){
                    this.url='http://localhost:1111/govInfo/find/' + this.currentPage + "?pageSize=" + this.pageSize
                }else if(path=='/pro/expertList'){
                    this.url='http://localhost:1111/expert/find/' + this.currentPage + "?pageSize=" + this.pageSize
                }
                axios.get(this.url)
                    .then(response => {
                        this.list = response.data
                    }).catch(function (error) {
                    console.log(error)
                })
            },
            routeTo(e) {
                if(e == '/portal'){
                    this.portal = 'http://192.168.7.61:8080/gf_mall_client/shop/seller.html?memLoginId='+this.loginuserinfo.loginAccount
                    window.open(this.portal)
                }else{
                    this.$router.push(e)
                }
            },
            find() {
                this.list = []
				var path = this.$route.path
                this.url=''
                if(path=='/pro/inforMationList'){
                    if(this.search==''){
                        this.url='http://localhost:1111/inforMation/findInforMation/' + this.currentPage  + "?pageSize=" + this.pageSize
					}else{
                        this.$router.push({path: '/pro/inforMationList',query:{title: this.search}})
                        this.url='http://localhost:1111/inforMation/findInforMationTitle/' + this.currentPage + "?title=" + this.search +"&pageSize=" +this.pageSize

                    }
                   }else if(path=='/pro/policyList'){
						if(this.search==''){
                            this.url='http://localhost:1111/policy/findPolicy/' + this.currentPage + "?pageSize=" + this.pageSize
						}else {
							this.$router.push({path: '/pro/policyList', query: {title: this.search}})
							this.url = 'http://localhost:1111/policy/findPolicyTitle/' + this.currentPage + "?title=" + this.search + "&pageSize=" + this.pageSize
						}
                    }else if(path=='/pro/knowledgeList'){
						if(this.search==''){
                            this.url='http://localhost:1111/knowLege/findKnowLedge/' + this.currentPage + "?pageSize=" + this.pageSize
						}else {
							this.$router.push({path: '/pro/knowledgeList', query: {title: this.search}})
							this.url = 'http://localhost:1111/knowLege/findKnowLedgeTitle/' + this.currentPage + "?title=" + this.search + "&pageSize=" + this.pageSize
						}
                    }
                axios.get(this.url)
                    .then(response => {
                        this.list = response.data

                    }).catch(function (error) {
                    console.log(error)
                })
            },
            logout(){
                axios.get('http://localhost:1111/login/logout')
                    .then(response => {
                        console.log(response.data)
                    })
                    sessionStorage.removeItem("user")
                    this.$router.push('/pro/firstPage')
            },
            goInforMation(flag){
                if(flag=='1'){
                    this.$router.push({path: '/pro/inforMationList'})
                }else if(flag=='2'){
                    this.$router.push({path: '/pro/policyList'})
                }else if(flag=='3'){
                    this.$router.push({path: '/pro/knowledgeList'})
                }
            }
        }
    }
</script>
